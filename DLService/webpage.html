<html>
    <head>
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.1/jquery.min.js"></script>
        <script type="text/javascript">
            window.onload = function() {
                document.getElementById("image").onchange = function(){
                    var reader = new FileReader();
                    reader.onload = function (e) {
                        document.getElementById("preview").src = e.target.result;
                    };
                    reader.readAsDataURL(document.getElementById("image").files[0]);
                }
            }
            function predict(){
                var returnData = new FormData();
                returnData.append('file', document.getElementById('image').files[0]);
                $.ajax({
                    method: 'POST',
                    url:"http://localhost:5000/predict",
                    contentType: false,
                    processData: false,
                    data: returnData,
                    success: function(data) {
                        console.log("inside");
                        document.getElementById("result").innerHTML = data;
                    }
                })
            }
        </script>
    </head>
<body>
<h1>CS 655 mini project</h1>
<p>Upload your picture below to predict!</p>
<div>
    <img id="preview" src="" style="height:300px"/>
    <input style="display: block" type="file" id="image"/>
</div>
    <button onclick="predict()">Predict</button>
    <div id="result" ></div>
</body>
</html>